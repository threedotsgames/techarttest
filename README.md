# techarttest

1. Моделька и текстуры был импортированы стандартным способом. После импорта я поменял настройки текстур на нужные, у ARM маски поставил компрессию "Masks" и перевел ее в линейное цветовое пространство. Ограничил разрешение у всех текстур до 512x512. Сгенерировал простую коллизию в редакторе мешей. Для стекол машины использовал обычный opaque материал с высокой отражаемостью, чтобы сделать похожую на стекло поверхность.

2. Я создал единый мастер-материал (TestWork/Materials/M_Master), в котором можно менять окраску, влияние текстурных карт (контроль roughness/AO/metallic/normal), а также накладывать различные эффекты.
Эффекты представлены в виде material functions и созданы модульно, чтобы быть подключаемыми в любой материал.

MF_DirtLayer принимает BaseColor и Roughness и накладывает на них шум. Текстура, цвет, контрастность и влияние шума выведены в параметры и могут регулироваться извне. Функция возвращает измененные BaseColor и Roughness.

MF_WetSurface принимает BaseColor, Roughness и Specular для симуляции эффекта мокрой поверхности. BaseColor становится темнее и насыщеннее, а Specular и Roughness приближаются к PBR-значениям отражаемости воды. Все это происходит по процедурной маске на основе Voronoi-шума, которая тайлится по мировым координатам и создает эффект капающего дождя.

3. Сделал AnimBP (TestWork/Animations/ABP_Mannequin) с простой state machine'ой, основанной на векторе скорости, которая берется у персонажа (MovementVel). У машины есть состояния Idle, Falling и Moving. Idle это обычное состояние, когда длина вектора MovementVel равна нулю. Если же она больше нуля, то анимация переходит в состояние Move, где с помощью блендспейса WalkRun происходит смешивание анимаций бега и ходьбы. Если же вертикальный компонент MovementVel не равен нулю (персонаж летит в воздухе) - запускается состояние Falling и проигрывается анимация падения. Текущее состояние выводится в Enum и печатается на экран.

4. В TestWork/Blueprints находится BP_ObjectSpawner, представляющий собой box, внутри которого генерируются заданные StaticMesh'ы. Все параметры генерации выведены в переменные: минимальный и максимальный размеры, ограничение вращения (только Z-ось ли все оси), seed на основе которого производится генерация, количество объектов. Также есть функция "примагничивания" объектов к земле. Если она включена - все объекты генерируются у поверхности, подобно функции foliage. Это реализовано путен Line Trace, который находит поверхность и сдвигает к ней точку спавна каждого объекта. Присутствует utility widget (Util_ObjectSpawner), в котором можно выбрать один из спавнеров помещенных на уровне и поменять некоторые его параметры.

5. Локализация произведена стандартными средствами анрила (Localization dashboard), текст в виджете привязан к string table. При заходе на платформы с надписями RUS и ENG текст на виджете меняется (происходит смена культуры в level bp)
